### Part 1. Настройка **gitlab-runner**

##### Поднять виртуальную машину *Ubuntu Server 20.04 LTS*

##### Скачать и установить на виртуальную машину **gitlab-runner**

Скачиваем и устанавливаем gitlab-runner

![На скриншое показана скачка и установка](/src/Images/pic.1.png)

![На скриншое показана скачка и установка](/src/Images/pic.2.png)

##### Запустить **gitlab-runner** и зарегистрировать его для использования в текущем проекте (*DO6_CICD*)

![На скриншое показана регистрация](/src/Images/pic.3.png)

Используем команды, чтобы gitlab-runner всгда запускаля сам при включении системы

![На скриншоте показана команда](/src/Images/pic.4.png)

Далее на скриншоте показано, что сервис запущен и работает:

![На скриншоте плказано, что сервис запущен](/src/Images/pic.5.png)

### Part 2. Сборка

#### Написать этап для **CI** по сборке приложений из проекта *C2_SimpleBashScripts*:

##### В файле _gitlab-ci.yml_ добавить этап запуска сборки через мейк файл из проекта _C2_

##### Файлы, полученные после сборки (артефакты), сохранять в произвольную директорию со сроком хранения 30 дней.

![На скриншоте показан ямл файл](/src/Images/pic.6.png)

![На скриншоте видно, что build успешно прошел](/src/Images/pic.7.png)


### Part 3. Тест кодстайла

#### Написать этап для **CI**, который запускает скрипт кодстайла (*clang-format*):

![На скриншоте показан ямл файл](/src/Images/pic.10.png)

##### Если кодстайл не прошел, то "зафейлить" пайплайн

Делаем make style и смотрим вывод, если код-стайл не прошел, то зафейлить

На скриншоте отображен зафейлейный пайпплайн:

![На скриншоте видно, что style не прошел](/src/Images/pic.9.png)

##### В пайплайне отобразить вывод утилиты *clang-format*

![На скриншоте видно, что style прошел](/src/Images/pic.8.png)

### Part 4. Интеграционные тесты

#### Написать этап для **CI**, который запускает ваши интеграционные тесты из того же проекта:

![На скриншоте плказан ямл файл](/src/Images/pic.11.png)

##### Запускать этот этап автоматически только при условии, если сборка и тест кодстайла прошли успешно

##### Если тесты не прошли, то "зафейлить" пайплайн

![На скриншоте показан фейл пайплайна](/src/Images/pic.12.png)

##### В пайплайне отобразить вывод, что интеграционные тесты успешно прошли / провалились

![На скриншоте показан вывод, что тесты прошли успешно](/src/Images/pic.13.png)


### Part 5. Этап деплоя

##### Поднять вторую виртуальную машину *Ubuntu Server 20.04 LTS*

#### Написать этап для **CD**, который "разворачивает" проект на другой виртуальной машине:

![На скриншоте показан ямл файл](/src/Images/pic.14.png)

##### Запускать этот этап вручную при условии, что все предыдущие этапы прошли успешно

##### Написать bash-скрипт, который при помощи **ssh** и **scp** копирует файлы, полученные после сборки (артефакты), в директорию */usr/local/bin* второй виртуальной машины

![На скриншоте показан скрипт](/src/Images/pic.15.png)


##### В файле _gitlab-ci.yml_ добавить этап запуска написанного скрипта

![На скриншоте показан полученные артефакты на 2 машине](/src/Images/pic.16.png)

##### Сохранить дампы образов виртуальных машин

![На скриншоте сохранены дампы виртуальных машин](/src/Images/pic.17.png)


### Part 6. Дополнительно. Уведомления

##### Настроить уведомления о успешном/неуспешном выполнении пайплайна через бота с именем "[ваш nickname] DO6 CI/CD" в *Telegram*

![На скриншоте скрипт об телеграмм боте](/src/Images/pic.18.png)

![На скриншоте телеграмм бот](/src/Images/pic.19.png)